{
	"suite": "Movi",
	"pages": [
		{
			"target": "http://192.168.10.33/movi/carteira/vincular",
			"tests": [
				{
					"conditions":[],
					"procedures": [
						"Escolher um cliente com EV livre",
						"Clicar em Adicionar Oportunidade de Cadastro \"+\"",
						"Preencher Campos e clicar em \"Ativar Oportunidade\""
					],
					"expected": "Vínculo criado com sucesso e redireciona para \"http://192.168.10.33/movi/oportunidade/ver/<Número>\""
				}, 
				{
					"conditions":[],
					"procedures": [
						"Escolher um cliente com EV existente",
						"Clicar em Adicionar Oportunidade de Cadastro \"+\"",
						"Preencher Campos e clicar em \"Ativar Oportunidade\""
					],
					"expected": "Vínculo criado com sucesso e redireciona para \"http://192.17.20.33/movi/oportunidade/ver/<Número>\""
				}
			]
		},
		{
			"target": "http://192.168.10.33/movi/",
			"tests": [
				{
					"conditions": ["Escolher Oportunidade sem Followup"],
					"procedures": [
						"Clicar em Adicionar",
						"Escolher *Qualquer* meio"
					],
					"expected": "Apenas Abertura ou Recontato devem aparecer como opção de ação"
				}, 
				{
					"conditions": ["Escolher Oportunidade em Contato Inicial"],
					"procedures": [
						"Clicar em Adicionar",
						"Escolher *Qualquer* meio"
					],
					"expected": "Apenas Negociação deve aparecer como opção de ação"
				}, 
				{
					"conditions": ["Escolher Oportunidade sem Proposta"],
					"procedures": [
						"Clicar em Adicionar",
						"Escolher *Qualquer* meio"
					],
					"expected": "Não deve ser possível fechar"
				}, 
				{
					"conditions": ["Escolher Oportunidade Fechada"],
					"procedures": [
						"Clicar em Adicionar",
						"Escolher *Qualquer* meio"
					],
					"expected": "Não deve ser possível negociar"
				}, 
				{
					"conditions": [],
					"procedures": [
						"Clicar em Adicionar",
						"Preencher Campos aleatóriamente",
						"Escolher *Qualquer* campo e deixar vazio (exceto proposta ou arquivo)",
						"Clicar Salvar Followup"
					],
					"expected": "Erro"
				}, 
				{
					"conditions": [],
					"procedures": [
						"Clicar em Adicionar",
						"Preencher Campos aleatóriamente",
						"Preencher Arquivo",
						"Clicar Salvar Followup"
					],
					"expected": "Salvar com sucesso e o arquivo deve ficar disponível para download na"
				}
			]
		},
		{
			"target": "http://192.168.10.33/movi/proposta/listar/<Número>",
			"comment": "Escolha algum a partir de http://192.168.10.33/movi/home ou crie a partir de http://192.168.10.33/movi/carteira/vincular e clique em \"Propostas\"",
			"tests": [
				{
					"conditions":[],
					"procedures": [
						"Clicar em Verificar Viabilidade",
						"Colocar CEP de um local atendido (Por Ex: \"94955-490\")",
						"Preencher Todos os Campos e clicar em \"Próximo\"",
						"Clicar em \"Analisar Viabilidade\""
					],
					"expected": "Aparecer a mensagem \"Sucesso! Há viabilidade automática para o endereço solicitado!\""
				}, 
				{
					"conditions":[],
					"procedures": [
						"Clicar em Verificar Viabilidade",
						"Colocar CEP de um local atendido (Por Ex: \"94955-490\")",
						"Preencher Todos os Campos, colocando uma velocidade absurda (algo como 1000 GB) e clicar em \"Próximo\"",
						"Clicar em \"Analisar Viabilidade\""
					],
					"expected": "Aparecer a mensagem \"Erro! não há viabilidade para a velocidade selecionada, mas há para velocidades menores!\""
				}, 
				{
					"conditions":[],
					"procedures": [
						"Clicar em Verificar Viabilidade",
						"Colocar CEP de um local não atendido (Por Ex: \"91530-360\")",
						"Preencher Todos os Campos e clicar em \"Próximo\"",
						"Clicar em \"Analisar Viabilidade\""
					],
					"expected": "Aparecer a mensagem \"Erro! Não Há viabilidade automática para o endereço solicitado!\" e ao salvar esta fica com um status vermelho."
				}, 
				{
					"conditions":["Oportunidade com pelo menos um Followup"],
					"procedures": [
						"Clicar em \"Adicionar Proposta\"",
						"Clicar em \"Usar Lista de Preço\"",
						"Preencher primeira página"
					],
					"expected": "Mensagem \"Adicionado com sucesso\", após isso aparece o arquivo proposta-####.pdf para download e ele se torna visível a partir da \"lupa\" na viabilidade."
				}, 
				{
					"conditions":["Oportunidade com ZERO Followups"],
					"procedures": [
						"Clicar em \"Adicionar Proposta\"",
						"Clicar em \"Usar Lista de Preço\"",
						"Preencher Campos da primeira página e clicar em \"Ok\""
					],
					"expected": "Mensagem de erro"
				},
				{
					"conditions":["Oportunidade com pelo menos um Followup"],
					"procedures": [
						"Clicar em \"Adicionar Proposta\"",
						"Clicar em \"Usar Lista de Preço\"",
						"Preencher primeira página apenas parcialmente (testar para cada combinação de campos)"
					],
					"expected": "Erro de Validação"
				},
				{
					"conditions":["Oportunidade com pelo menos um Followups"],
					"procedures": [
						"Clicar em \"Adicionar Proposta\"",
						"Clicar em \"Usar Lista de Preço\"",
						"Preencher primeira página",
						"Preencher segunda página",
						"Preencher terceira página"
					],
					"expected": "Mensagem \"Adicionado com sucesso\", após isso aparece o arquivo proposta-####.pdf para download e ele se torna visível a partir da \"lupa\" na viabilidade."
				},
				{
					"conditions":["Oportunidade com pelo menos um Followup"],
					"procedures": [
						"Clicar em \"Adicionar Proposta\"",
						"Clicar em \"Usar Lista de Preço\"",
						"Preencher primeira página",
						"Preencher segunda página parcialmente para cada pessoa (http://simuladordecpf.com.br/ pode ajudar)"
					],
					"expected": "Erro de Validação"
				},
				{
					"conditions":["Oportunidade com pelo menos um Followup"],
					"procedures": [
						"Clicar em \"Adicionar Proposta\"",
						"Clicar em \"Usar Lista de Preço\"",
						"Preencher primeira página",
						"Preencher segunda página",
						"Preencher terceira página parcialmente"
					],
					"expected": "Erro de Validação"
				},
				{
					"conditions":["Oportunidade com pelo menos um Followup"],
					"procedures": [
						"Clicar em \"Visualizar Proposta\"",
						"Clicar em \"Visualizar Arquivo\""
					],
					"expected": "Visualizar o PDF, deve baixar quase imediatamente"
				},
				{
					"conditions":["Oportunidade com pelo menos um Followup"],
					"procedures": [
						"Clicar em \"Visualizar Proposta\"",
						"Clicar em \"Gerar Novo Arquivo\""
					],
					"expected": "Visualizar o PDF, não deve ser tão rápido"
				}
			]
		},
		{
			"target": "http://192.168.10.33/engenharia/viabilidade/pendencias",
			"comment": "Tenha permissão '[ENGENHARIA] Viabilidade' e '[ENGENHARIA Responder Solicitação de Viabilidade' total. Para criar pendencias novas use o Análisar viabilidade do teste anterior",
			"tests": [
				{
					"conditions":[],
					"procedures": [
						"Clicar 'Analisar Viabilidade' em uma das viabilidades com status = 'Aguardando Análise de Engenharia'",
						"Preencher Observações",
						"Clicar em enviar análise"
					],
					"expected": "Deve ser atualizado com sucesso e redirecionado para a tela anterior, onde o pedido some (mas é visível ao filtrar pelo status Aguardando Análise Prevendas)"
				},
				{
					"conditions":[],
					"procedures": [
						"Clicar 'Analisar Viabilidade' em uma das viabilidades com status = 'Aguardando Análise de Engenharia'",
						"Deixar Observações vazias",
						"Clicar em enviar análise"
					],
					"expected": "Erro"
				},
				{
					"conditions":[],
					"procedures": [
						"Clicar 'Analisar Viabilidade' em uma das viabilidades com status = 'Aguardando Análise de Engenharia'",
						"Clicar em Adicionar Produto"
					],
					"expected": "Permite Escolher um produto e quantidade. Ambos são salváveis"
				},
				{
					"conditions":[],
					"procedures": [
						"Clicar 'Analisar Viabilidade' em uma das viabilidades com status = 'Aguardando Análise de Engenharia'",
						"Clicar em Adicionar Produto",
						"Clicar em '+'",
						"Escolher ID Luma ou Outro Produto",
						"Escolher um produto que não está na lista"
					],
					"expected": "O produto deve aparecer na lista e podem ser editados/salvos"
				},
				{
					"conditions":[],
					"procedures": [
						"Clicar 'Analisar Viabilidade' em uma das viabilidades com status = 'Aguardando Análise de Engenharia'",
						"Clicar em Adicionar Grupo",
						"Escolher um grupo Qualquer"
					],
					"expected": "O grupo deve aparecer com vários produtos, cada qual com quantidades pré-determinadas. As quantidades são editáveis, mas os produtos não o são."
				},
				{
					"conditions":[],
					"procedures": [
						"Clicar 'Analisar Viabilidade' em uma das viabilidades com status = 'Aguardando Análise de Engenharia'",
						"Preencher as variações possíveis de paramêtros",
						"Clicar 'Enviar Análise'",
						"Ao voltar para a tela, clicar em filtrar por 'Aguardando Análise Engenharia'",
						"Clicar em visualizar a proposta que acabaste de gerar"
					],
					"expected": "Os dados devem bater."
				},
				{
					"conditions":[],
					"procedures": [
						"Clicar 'Analisar Viabilidade' em uma das viabilidades com status = 'Aguardando Análise de Engenharia'",
						"Preencher as variações possíveis de paramêtros",
						"Clicar no Desenhar Linha (no mapa) e desenhe uma linha",
						"Clicar 'Enviar Análise'",
						"Ao voltar para a tela, clicar em filtrar por 'Aguardando Análise Engenharia'",
						"Clicar em visualizar a proposta que acabaste de gerar"
					],
					"expected": "Os dados devem bater, e o mapa também."
				}
			]
		},
		{
			"target": "http://192.168.10.33/prevenda/viabilidadeComercial/listar",
			"comment": "Tenha permissão '[PREVENDA] Admin' total. Para criar pendencias novas use o Análisar viabilidade do teste anterior",
			"tests": [
				{
					"conditions":[],
					"procedures": [
						"Clicar 'Detalhar Pedido de Viabilidade' em uma das viabilidades com status = 'Aguardando Análise Prevendas'",
						"Clicar em enviar 'Inviável'"
					],
					"expected": "Deve ser atualizado com sucesso e redirecionado para a tela anterior, onde o pedido some (mas é visível ao filtrar pelo status 'Inviável por motivos Prevendas')"
				},
				{
					"conditions":[],
					"procedures": [
						"Clicar 'Detalhar Pedido de Viabilidade' em uma das viabilidades com status = 'Aguardando Análise Prevendas'",
						"Clicar em enviar 'Vincular Lpu'"
					],
					"expected": "Deve ser atualizado com sucesso e redirecionado para a tela anterior, onde o pedido some (mas é visível ao filtrar pelo status 'Viabilidade Aprovada') e o usuário pode criar uma proposta com esta viabilidade."
				},
				{
					"conditions":[],
					"procedures": [
						"Clicar 'Detalhar Pedido de Viabilidade' em uma das viabilidades com status = 'Aguardando Análise Prevendas'",
						"Clicar em enviar 'Adicionar Lpu'",
						"Preencher campos",
						"Adicionar pelo menos uma velocidade",
						"Clicar em Enviar LPU"
					],
					"expected": "Deve ser atualizado com sucesso e redirecionado para a tela anterior, onde o pedido some (mas é visível ao filtrar pelo status 'Viabilidade Aprovada') e o usuário pode criar uma proposta com esta viabilidade nas velocidades adicionadas."
				},
				{
					"conditions":[],
					"procedures": [
						"Clicar 'Detalhar Pedido de Viabilidade' em uma das viabilidades com status = 'Aguardando Análise Prevendas'",
						"Preencher as variações possíveis de paramêtros",
						"Adicionar ou Vincular LPU",
						"Ao voltar para a tela, clicar em filtrar por 'Viabilidade Aprovada'",
						"Clicar em visualizar a proposta que acabaste de gerar"
					],
					"expected": "Os dados devem bater."
				}
			]
		}
	]
}